import E from"./Hearth.63ea5f21.js";import H from"./HearthBg.446adb70.js";import{j as z,h as O,_ as U}from"./entry.c056951f.js";import{i as X}from"./isLoggedIn.ad982dbc.js";import{w as Y}from"./index.77f53ec6.js";import{x as k,a as S,b as Z,a1 as q,u as r,M as c,N as x,O as j,Y as u,ad as G,a4 as D,X as b,l as J,I as y,Z as h,_ as V,a2 as w}from"./swiper-vue.c8ff5059.js";import{c as I}from"./cn.a642df04.js";import{_ as K}from"./nuxt-link.583a861f.js";import{u as g}from"./useMultiLang.f7e4a3e7.js";const Q=k({__name:"ButtonTemplateFavorites",props:{product:{}},setup(l){const e=l,i=z(),t=O(),n=S(!1),o=S(!1),a=s=>i.switchTypeAuth(s),m=s=>i.switchAuthModal(s),p=async()=>{o.value=!0,await t.addToFavorites(e.product,n)};Z(n,()=>{console.log(n.value)});const _=()=>{o.value=!!t.favorites.find(s=>{var d;return s.id===((d=e==null?void 0:e.product)==null?void 0:d.id)})},v=()=>{o.value=!1,t.removeFavorites(e.product.id,n)},f=()=>{if(!X())return m(!0),a("login"),!1;if(n.value=!0,o.value)return v(),!1;p()};return Y(()=>{var s;return(s=e.product)==null?void 0:s.id},()=>{_()}),_(),(s,d)=>q(s.$slots,"button",{isDisabledFavoritesBtn:r(n),onClickFavoritesBth:f,isFavoritesProduct:r(o)})}}),R=["disabled","onClick"],W=k({__name:"ButtonFavoriteCardProduct",props:{product:{}},setup(l){return(e,i)=>{const t=E,n=H,o=Q;return c(),x(o,{product:e.product},{button:j(({isDisabledFavoritesBtn:a,onClickFavoritesBth:m,isFavoritesProduct:p})=>[u("button",{disabled:a,class:"group/favorites absolute right-[10%] top-[7%] w-[20%] rounded-[50%] bg-white pt-[20%] duration-hover group-hover:opacity-100 is-hover:opacity-0",onClick:G(m,["prevent"])},[p?(c(),x(n,{key:1,class:D(("cn"in e?e.cn:r(I))("absolute left-[50%] top-[50%] !h-[46%] !w-[46%] translate-x-[-50%] translate-y-[-40%] text-status_red duration-hover group-hover:text-status_red"))},null,8,["class"])):(c(),x(t,{key:0,class:D(("cn"in e?e.cn:r(I))("absolute left-[50%] top-[50%] !h-[46%] !w-[46%] translate-x-[-50%] translate-y-[-40%] text-black duration-hover group-hover/favorites:text-status_red"))},null,8,["class"]))],8,R)]),_:1},8,["product"])}}}),tt={};function et(l,e){return c(),b("span",null,"â‚´")}const ot=U(tt,[["render",et]]),rt={class:"relative mb-[7px] pt-[128%] md:mb-2.5 md:pt-[127.5%] 4xl:mb-5 4xl:pt-[125%]"},st=["src","alt"],nt={class:"mb-[5px] truncate text-[13px] font-medium leading-[15px] md:text-[16px] md:leading-[20px] 4xl:mb-2.5 4xl:text-[20px] 4xl:leading-[24px]"},at={key:0},it={key:0,class:"flex flex-col"},ut={class:"price_amount"},ct={class:"price_cost"},pt={key:1},dt={class:"price_amount"},lt={class:"price_cost"},wt=k({__name:"CardProduct",props:{product:{}},setup(l){const e=l,i=J(()=>{var t,n;return e.product&&e.product.price_type==="variated"?(n=(t=e.product)==null?void 0:t.prices)==null?void 0:n.map((o,a)=>({minAmount:a===0?o.min_amount:null,minPrice:a===0?o.price:null,maxAmount:a===e.product.prices.length-1?o.max_amount:null,maxPrice:a===e.product.prices.length-1?o.price:null})):[]});return(t,n)=>{const o=W,a=ot,m=K;return c(),x(m,{to:`/product/${t.product.id}`,class:"group relative block rounded-[10px] border-[1px] border-transparent bg-white p-2.5 duration-hover hover:border-status_gray md:rounded-[15px] md:p-[15px] 4xl:rounded-[20px] 4xl:p-[20px]"},{default:j(()=>{var p,_,v,f,s,d,F,$,C,M,B,L,P,A,T,N;return[u("div",rt,[u("img",{class:"absolute left-0 top-0 h-full w-full rounded-[7px] object-cover",src:(_=(p=t.product)==null?void 0:p.main_image)==null?void 0:_.path,alt:("useMultiLang"in t?t.useMultiLang:r(g))(t.product,"title")},null,8,st)]),y(o,{product:t.product},null,8,["product"]),u("h5",nt,h(("useMultiLang"in t?t.useMultiLang:r(g))(t.product,"title")),1),t.product.prices?(c(),b("div",at,[((v=t.product)==null?void 0:v.price_type)==="fixed"?(c(),b("div",it,[u("span",ut,h(`${(s=(f=t.product)==null?void 0:f.prices[0])==null?void 0:s.min_amount} ${("useMultiLang"in t?t.useMultiLang:r(g))((F=(d=t.product)==null?void 0:d.prices[0])==null?void 0:F.unit,"title")}`),1),u("span",ct,[V(h((C=($=t.product)==null?void 0:$.prices[0])==null?void 0:C.price),1),y(a)])])):w("",!0),((M=t.product)==null?void 0:M.price_type)==="variated"?(c(),b("div",pt,[u("div",dt,h(`${(B=r(i)[0])==null?void 0:B.minAmount}-${(L=r(i)[r(i).length-1])==null?void 0:L.maxAmount} ${("useMultiLang"in t?t.useMultiLang:r(g))((A=(P=t.product)==null?void 0:P.prices[0])==null?void 0:A.unit,"title")}`),1),u("div",lt,[V(h(`${(T=r(i)[0])==null?void 0:T.minPrice}-${(N=r(i)[r(i).length-1])==null?void 0:N.maxPrice}`)+" ",1),y(a)])])):w("",!0)])):w("",!0)]}),_:1},8,["to"])}}});export{wt as _,Q as a};
