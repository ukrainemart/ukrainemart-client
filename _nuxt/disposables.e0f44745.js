import{g as c,o as v,w,i as p,d as g}from"./micro-task.e13ecc34.js";import{w as m,a as E,l as h}from"./swiper-vue.8611abf5.js";function d(a,r,e){c.isServer||m(t=>{document.addEventListener(a,r,e),t(()=>document.removeEventListener(a,r,e))})}function L(a,r,e){c.isServer||m(t=>{window.addEventListener(a,r,e),t(()=>window.removeEventListener(a,r,e))})}function x(a,r,e=h(()=>!0)){function t(n,l){if(!e.value||n.defaultPrevented)return;let o=l(n);if(o===null||!o.getRootNode().contains(o))return;let f=function s(u){return typeof u=="function"?s(u()):Array.isArray(u)||u instanceof Set?u:[u]}(a);for(let s of f){if(s===null)continue;let u=s instanceof HTMLElement?s:v(s);if(u!=null&&u.contains(o)||n.composed&&n.composedPath().includes(u))return}return!w(o,p.Loose)&&o.tabIndex!==-1&&n.preventDefault(),r(n,o)}let i=E(null);d("pointerdown",n=>{var l,o;e.value&&(i.value=((o=(l=n.composedPath)==null?void 0:l.call(n))==null?void 0:o[0])||n.target)},!0),d("mousedown",n=>{var l,o;e.value&&(i.value=((o=(l=n.composedPath)==null?void 0:l.call(n))==null?void 0:o[0])||n.target)},!0),d("click",n=>{i.value&&(t(n,()=>i.value),i.value=null)},!0),d("touchend",n=>t(n,()=>n.target instanceof HTMLElement?n.target:null),!0),L("blur",n=>t(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function y(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function A(){return/Android/gi.test(window.navigator.userAgent)}function b(){return y()||A()}function T(){let a=[],r={addEventListener(e,t,i,n){return e.addEventListener(t,i,n),r.add(()=>e.removeEventListener(t,i,n))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){r.requestAnimationFrame(()=>{r.requestAnimationFrame(...e)})},setTimeout(...e){let t=setTimeout(...e);r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return g(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,i){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:i}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=T();return e(t),this.add(()=>t.dispose())},add(e){return a.push(e),()=>{let t=a.indexOf(e);if(t>=0)for(let i of a.splice(t,1))i()}},dispose(){for(let e of a.splice(0))e()}};return r}export{b as n,T as o,y as t,L as w,x as y};
