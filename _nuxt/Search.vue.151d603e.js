import N from"./Search.12b83889.js";import R from"./SearchMobileMenu.78ed10b9.js";import{u as I}from"./useApi.949f5ce2.js";import{d as U}from"./entry.e50dbfd1.js";import{c as f}from"./cn.a642df04.js";import{e as P}from"./index.cebd1f01.js";import{x as w,i as k,b as j,M as o,X as l,u as t,N as A,Y as c,a4 as v,H as $,a3 as C,I as h,O as b,Z as g,a2 as m,a as _,_ as V}from"./swiper-vue.67144f5d.js";import z from"./SearchLinkArrow.74bb93a0.js";import{_ as E}from"./nuxt-link.68164b3c.js";import{u as M}from"./useMultiLang.45feec17.js";import{o as D}from"./index.02de68b8.js";const F=["value","placeholder"],O=w({__name:"SearchInput",props:{searchValue:{},isSearchActive:{type:Boolean}},emits:["updateSearchValue","updateProducts","updateCategories","updateSearchActive"],setup(S,{emit:x}){const e=S,p=x,i=k("isSearchModal"),d=async a=>{try{const r=await I(`${U()}/search/shortQuery?search=${a}`);p("updateProducts",r.products),p("updateCategories",r.categories),p("updateSearchActive",!0)}catch(r){console.error(r)}},n=P(a=>{const u=a.target.value;p("updateSearchValue",u),u.trim().length?d(u.trim()):p("updateSearchActive",!1)},400);return j(()=>e.isSearchActive,a=>{a===!1&&p("updateSearchValue","")}),(a,r)=>{const u=N,y=R;return o(),l("div",{class:v(("cn"in a?a.cn:t(f))("relative  border border-solid border-black",{"rounded-[50px]":!a.isSearchActive,"rounded-t-[15px]":a.isSearchActive,"bg-white":t(i)}))},[t(i)?(o(),A(y,{key:1,fontControlled:!1,class:"absolute right-[15px] top-1/2 !mb-0 h-[12px] w-[12px] -translate-y-1/2 cursor-text md:h-[17px] md:w-[17px] lg:h-5 lg:w-5"})):(o(),A(u,{key:0,fontControlled:!1,class:"absolute right-[15px] top-1/2 z-[-1] !mb-0 h-[12px] w-[12px] -translate-y-1/2 cursor-text text-status_gray md:h-[17px] md:w-[17px] lg:h-5 lg:w-5"})),c("input",{value:a.searchValue,type:"text",placeholder:a.$t("startYourSearch"),class:v(("cn"in a?a.cn:t(f))("relative w-full bg-transparent py-[9px] pl-[15px] pr-8 text-[12px] font-medium text-black outline-none placeholder:text-status_gray md:py-[12px] md:pl-[18px] md:pr-[36px] md:text-[14px] lg:py-[15px] lg:pl-[21px] lg:pr-10 lg:text-[17px]",{"placeholder:text-black":t(i)})),onInput:r[0]||(r[0]=s=>t(n)(s))},null,42,F)],2)}}}),Y={key:0},H=c("p",{class:"px_search mb-[6px] font-namu text-[14px] leading-[17px] md:mb-[9px] md:text-[18px] md:leading-[22px] xl:mb-5 xl:text-[22px] xl:leading-[26px]"}," Категорії ",-1),Q={class:"flex flex-col"},T={class:"text-[10px] font-medium leading-[12px] md:text-[14px] md:leading-[17px] xl:text-[17px] xl:leading-[21px]"},X={key:1,class:"mx-[15px] mb-2.5 h-px bg-[#d9d9d9]"},Z={key:2},q=c("p",{class:"px_search mb-[6px] font-namu text-[14px] leading-[17px] md:mb-[9px] md:text-[18px] md:leading-[22px] xl:mb-5 xl:text-[22px] xl:leading-[26px]"}," Товари ",-1),G={class:"flex flex-col"},J={class:"text-[10px] font-medium leading-[12px] md:text-[14px] md:leading-[17px] xl:text-[17px] xl:leading-[21px]"},K={key:3,class:"px_search"},W=c("span",{class:"text-[10px] font-semibold leading-[12px] text-status_red md:text-[14px] md:leading-[17px] lg:hover:underline xl:text-[17px] xl:leading-[21px]"}," Показати всі результати ",-1),ee={key:4},te=c("p",{class:"px_search text-[10px] font-medium leading-[12px] md:text-[14px] md:leading-[17px] xl:text-[17px] xl:leading-[21px]"}," Нічого не знайдено ",-1),se=[te],ae=w({__name:"SearchResult",props:{isSearchActive:{type:Boolean},products:{},categories:{}},setup(S){const x=k("isSearchModal");return(e,p)=>{const i=z,d=E;return e.isSearchActive?(o(),l("div",{key:0,class:v(("cn"in e?e.cn:t(f))("absolute inset-x-0 z-10 rounded-b-[15px] bg-white py-[15px] text-left md:rounded-b-[20px] md:py-[18px] xl:py-[25px]",{relative:t(x),"shadow-lg":!t(x)}))},[e.categories.length?(o(),l("div",Y,[H,c("ul",Q,[(o(!0),l($,null,C(e.categories,n=>(o(),l("li",{key:n.id,class:""},[h(d,{to:`/category/${n.id}`,class:"px_search flex items-center justify-between py-[8px] lg:hover:bg-gray-100 xl:py-[10px]"},{default:b(()=>[c("span",T,g(("useMultiLang"in e?e.useMultiLang:t(M))(n,"title")),1),h(i,{fontControlled:!1,class:"h-[11px] w-[8px] md:h-[15px] md:w-[11px] xl:h-[18px] xl:w-[13px]"})]),_:2},1032,["to"])]))),128))])])):m("",!0),e.products.length&&e.categories.length?(o(),l("div",X)):m("",!0),e.products.length?(o(),l("div",Z,[q,c("ul",G,[(o(!0),l($,null,C(e.products,n=>(o(),l("li",{key:n.id,class:""},[h(d,{to:`/product/${n.id}`,class:"px_search flex items-center justify-between py-[8px] lg:hover:bg-gray-100 xl:py-[10px]"},{default:b(()=>[c("span",J,g(("useMultiLang"in e?e.useMultiLang:t(M))(n,"title")),1),h(i,{fontControlled:!1,class:"h-[11px] w-[8px] md:h-[15px] md:w-[11px] xl:h-[18px] xl:w-[13px]"})]),_:2},1032,["to"])]))),128))])])):m("",!0),e.products.length||e.categories.length?(o(),l("div",K,[h(d,{to:"/",class:"flex w-fit pt-[4px] xl:pt-[5px]"},{default:b(()=>[W]),_:1})])):m("",!0),!e.products.length&&!e.categories.length?(o(),l("div",ee,se)):m("",!0)],2)):m("",!0)}}});const oe={key:0,class:"ld:mt-[5px] ml-[18px] mt-[3px] text-left text-[7px] font-medium text-black md:mt-[7px] md:text-[13px] lg:text-[17px]"},le={class:"underline"},ne={class:"underline"},ve=w({__name:"Search",props:{isExample:{type:Boolean}},setup(S){const x=_(null),e=_(""),p=_(!1),i=_([]),d=_([]),n=k("isSearchModal"),a=s=>e.value=s,r=s=>p.value=s,u=s=>i.value=s,y=s=>d.value=s;return D(x,()=>r(!1)),(s,pe)=>{const L=O,B=ae;return o(),l("div",{ref_key:"searchRef",ref:x,class:v(("cn"in s?s.cn:t(f))("relative",{"min-w-[305px] md:w-[446px] lg:w-[600px]":!t(n),"max-w-[562px]":t(n)}))},[h(L,{searchValue:t(e),isSearchActive:t(p),onUpdateSearchValue:a,onUpdateProducts:u,onUpdateCategories:y,onUpdateSearchActive:r},null,8,["searchValue","isSearchActive"]),h(B,{isSearchActive:t(p),products:t(i),categories:t(d)},null,8,["isSearchActive","products","categories"]),s.isExample?(o(),l("p",oe,[V(g(`${s.$t("example")}:`)+" ",1),c("span",le,g(s.$t("grain")),1),V(" "+g(s.$t("or"))+" ",1),c("span",ne,g(s.$t("oil")),1)])):m("",!0)],2)}}});export{ve as _};
